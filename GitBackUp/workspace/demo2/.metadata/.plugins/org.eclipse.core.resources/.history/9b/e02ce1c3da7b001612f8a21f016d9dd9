package hello;
import java.util.concurrent.atomic.AtomicLong;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class GreetingController {
	 private static final String template = "Hello, %s!";
	    private long count = 0;

	    @RequestMapping("/greeting")
	    public Greeting greeting(@RequestParam(value="name2", defaultValue="raj") String name2,
	    						@RequestParam(value="last", defaultValue="chopra") String name) {
	    	String str = "Hello ";//+name2+name;	    	
	        return new Greeting(count,str);
	    }
	    
	    
	    @RequestMapping(value="/user",method=RequestMethod.GET)
	    public User getUSer(@RequestParam(value="id", defaultValue="1") int studentId,
	    						@RequestParam(value="uName", defaultValue="chopra") String name) {
	    	
	    User US = new User(studentId,name);
//	    US.setId(studentId);
//	    US.setuName(name);
	    
	    System.out.println("Age "+US.getId());
	    System.out.println("Name "+US.getuName());
	    
	    String str = "World";
	       return US;
	    }
	    
	   
	    
	    @RequestMapping(value="/users",method=RequestMethod.PUT)
	    @ResponseBody
	    public User setUSer(@RequestBody User user) {
	    	User USA = new User(12,"Yogesh");
	    	USA.setId(user.getId());
	    	
	    System.out.println("Age "+user.getId());
//	    System.out.println("Name "+US.getuName());
//	    
	   // String str = "World";
	       return USA;
	    }
}
